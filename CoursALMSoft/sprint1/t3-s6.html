<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html lang="en-US">  <head>    <meta http-equiv="content-type" content="text/html; charset=utf-8">    <title>Workshop: Programming Basics</title>    <meta name="CHANGEDBY" content="Pr. Olivier Gruber">    <link rel="stylesheet" href="../style.css" type="text/css">    <script src="../common.js"></script>    <script src="../quizz.js"></script>    <link rel="stylesheet" href="../highlight.js/styles/default.css">    <script src="../highlight.js/highlight.pack.js"></script>    <script>hljs.initHighlightingOnLoad();</script>  </head>  <body onload="shellOnLoad()">    <script>      function shellOnLoad() {        multiLang();        /*hljs.initHighlightingOnLoad(); */        _quizzes = new Array();        parseQuizzes();      }      </script>    <div id="outer-container">      <div id="header">        <div id="logo"> <img src="../logo_uga.png" alt="Université Grenoble-Alpes"            height="100"            border="0">          <img src="../logo_reseau_polytech.gif" alt="Polytech" height="80" border="0">        </div>        <div id="top-links"> <a href="../index.html">Home</a> </div>      </div>      <div id="inner-container">        <h1>Bases du langage C<br>        </h1>        <h2>Task3 -- Tableau et pointeur en C<br>        </h2>        <h3>Step6 --&nbsp; <br>        </h3>        <p>Passez dans le répertoire task3s6C.</p>        <p>Voici un programme C manipulant un tableau d'entier (fichier <i>tab.c</i>):<span            style="font-family: monospace;"><br>          </span></p>        <p style="margin: 0.0px 0.0px 0.0px 0.0px; background-color: #ffffff"><font            style="font: 11.0px Menlo; color: #78492a"            face="Menlo"            size="3"            color="#78492a">#include
            </font><font style="font: 11.0px Menlo; color: #d12f1b" face="Menlo"            size="3"            color="#d12f1b">&lt;stdio.h&gt;</font></p>        <p style="margin: 0.0px 0.0px 0.0px 0.0px; background-color: #ffffff"><font            style="font: 11.0px Menlo; color: #78492a"            face="Menlo"            size="3"            color="#78492a">#define
            TAILLE </font><font style="font: 11.0px Menlo; color: #272ad8" face="Menlo"            size="3"            color="#272ad8">5</font></p>        <p style="margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; background-color: #ffffff; min-height: 14.0px"><br>        </p>        <p style="margin: 0.0px 0.0px 0.0px 0.0px; background-color: #ffffff"><font            style="font: 11.0px Menlo; color: #ba2da2"            face="Menlo"            size="3"            color="#ba2da2">int</font><font            style="font: 11.0px Menlo; color: #000000"            face="Menlo"            size="3"            color="#000000">            t[TAILLE] ;</font></p>        <p style="margin: 0.0px 0.0px 0.0px 0.0px; background-color: #ffffff"><font            style="font: 11.0px Menlo; color: #ba2da2"            face="Menlo"            size="3"            color="#ba2da2">int</font><font            style="font: 11.0px Menlo; color: #000000"            face="Menlo"            size="3"            color="#000000">            resfin;</font></p>        <p style="margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; background-color: #ffffff; min-height: 14.0px"><br>        </p>        <p style="margin: 0.0px 0.0px 0.0px 0.0px; background-color: #ffffff"><font            style="font: 11.0px Menlo; color: #ba2da2"            face="Menlo"            size="3"            color="#ba2da2">int</font><font            style="font: 11.0px Menlo; color: #000000"            face="Menlo"            size="3"            color="#000000">            main()</font></p>        <p style="margin: 0.0px 0.0px 0.0px 0.0px; background-color: #ffffff"><font            style="font: 11.0px Menlo; color: #000000"            face="Menlo"            size="3"            color="#000000">{</font></p>        <p style="margin: 0.0px 0.0px 0.0px 0.0px; background-color: #ffffff"><font            style="font: 11.0px Menlo; color: #000000"            face="Menlo"            size="3"            color="#000000"><span              class="Apple-converted-space">&nbsp;
              &nbsp; </span>t[</font><font style="font: 11.0px Menlo; color: #272ad8"            face="Menlo"            size="3"            color="#272ad8">0</font><font            style="font: 11.0px Menlo; color: #000000"            face="Menlo"            size="3"            color="#000000">]=</font><font            style="font: 11.0px Menlo; color: #272ad8"            face="Menlo"            size="3"            color="#272ad8">1</font><font            style="font: 11.0px Menlo; color: #000000"            face="Menlo"            size="3"            color="#000000">;            t[</font><font style="font: 11.0px Menlo; color: #272ad8" face="Menlo"            size="3"            color="#272ad8">1</font><font            style="font: 11.0px Menlo; color: #000000"            face="Menlo"            size="3"            color="#000000">]=</font><font            style="font: 11.0px Menlo; color: #272ad8"            face="Menlo"            size="3"            color="#272ad8">20</font><font            style="font: 11.0px Menlo; color: #000000"            face="Menlo"            size="3"            color="#000000">;            t[</font><font style="font: 11.0px Menlo; color: #272ad8" face="Menlo"            size="3"            color="#272ad8">2</font><font            style="font: 11.0px Menlo; color: #000000"            face="Menlo"            size="3"            color="#000000">]=</font><font            style="font: 11.0px Menlo; color: #272ad8"            face="Menlo"            size="3"            color="#272ad8">30</font><font            style="font: 11.0px Menlo; color: #000000"            face="Menlo"            size="3"            color="#000000">;            t[</font><font style="font: 11.0px Menlo; color: #272ad8" face="Menlo"            size="3"            color="#272ad8">3</font><font            style="font: 11.0px Menlo; color: #000000"            face="Menlo"            size="3"            color="#000000">]=</font><font            style="font: 11.0px Menlo; color: #272ad8"            face="Menlo"            size="3"            color="#272ad8">40</font><font            style="font: 11.0px Menlo; color: #000000"            face="Menlo"            size="3"            color="#000000">;            t[</font><font style="font: 11.0px Menlo; color: #272ad8" face="Menlo"            size="3"            color="#272ad8">4</font><font            style="font: 11.0px Menlo; color: #000000"            face="Menlo"            size="3"            color="#000000">]=</font><font            style="font: 11.0px Menlo; color: #272ad8"            face="Menlo"            size="3"            color="#272ad8">50</font><font            style="font: 11.0px Menlo; color: #000000"            face="Menlo"            size="3"            color="#000000">;</font></p>        <p style="margin: 0.0px 0.0px 0.0px 0.0px; background-color: #ffffff; min-height: 14.0px"><font            style="font: 11.0px Menlo; color: #000000"            face="Menlo"            size="3"            color="#000000"><span              class="Apple-converted-space">&nbsp;&nbsp;
              &nbsp;</span></font></p>        <p style="margin: 0.0px 0.0px 0.0px 0.0px; background-color: #ffffff"><font            style="font: 11.0px Menlo; color: #000000"            face="Menlo"            size="3"            color="#000000"><span              class="Apple-converted-space">&nbsp;
              &nbsp; </span>printf(</font><font style="font: 11.0px Menlo; color: #d12f1b"            face="Menlo"            size="3"            color="#d12f1b">"1er
            element %d\n"</font><font style="font: 11.0px Menlo; color: #000000"            face="Menlo"            size="3"            color="#000000">,t[</font><font            style="font: 11.0px Menlo; color: #272ad8"            face="Menlo"            size="3"            color="#272ad8">0</font><font            style="font: 11.0px Menlo; color: #000000"            face="Menlo"            size="3"            color="#000000">]);</font><br>          <font style="font: 11.0px Menlo; color: #000000" face="Menlo" size="3"            color="#000000"><span              class="Apple-converted-space"></span>&nbsp;&nbsp;&nbsp;            printf(</font><font style="font: 11.0px Menlo; color: #d12f1b" face="Menlo"            size="3"            color="#d12f1b">"</font><font            style="font: 11.0px Menlo; color: #d12f1b"            face="Menlo"            size="3"            color="#d12f1b"><font              style="font: 11.0px Menlo; color: #d12f1b"              face="Menlo"              size="3"              color="#d12f1b">Adresse
              du 1er element via &amp;t[Ø] %d</font>\n"</font><font style="font: 11.0px Menlo; color: #000000"            face="Menlo"            size="3"            color="#000000">,&amp;t[</font><font            style="font: 11.0px Menlo; color: #272ad8"            face="Menlo"            size="3"            color="#272ad8">0</font><font            style="font: 11.0px Menlo; color: #000000"            face="Menlo"            size="3"            color="#000000">]);</font></p>        <p style="margin: 0.0px 0.0px 0.0px 0.0px; background-color: #ffffff"><font            style="font: 11.0px Menlo; color: #000000"            face="Menlo"            size="3"            color="#000000"><span              class="Apple-converted-space">&nbsp;
              &nbsp; </span>printf(</font><font style="font: 11.0px Menlo; color: #d12f1b"            face="Menlo"            size="3"            color="#d12f1b">"Adresse
            du 1er element via t %d\n"</font><font style="font: 11.0px Menlo; color: #000000"            face="Menlo"            size="3"            color="#000000">,t);</font></p>        <p style="margin: 0.0px 0.0px 0.0px 0.0px; background-color: #ffffff"><font            style="font: 11.0px Menlo; color: #000000"            face="Menlo"            size="3"            color="#000000"><span              class="Apple-converted-space">&nbsp;
              &nbsp; </span>printf(</font><font style="font: 11.0px Menlo; color: #d12f1b"            face="Menlo"            size="3"            color="#d12f1b">"1er
            element via un pointeur %d\n"</font><font style="font: 11.0px Menlo; color: #000000"            face="Menlo"            size="3"            color="#000000">,*t);</font></p>        <p style="margin: 0.0px 0.0px 0.0px 0.0px; background-color: #ffffff"><font            style="font: 11.0px Menlo; color: #000000"            face="Menlo"            size="3"            color="#000000"><span              class="Apple-converted-space">&nbsp;
              &nbsp; </span>printf(</font><font style="font: 11.0px Menlo; color: #d12f1b"            face="Menlo"            size="3"            color="#d12f1b">"2eme
            element %d\n"</font><font style="font: 11.0px Menlo; color: #000000"            face="Menlo"            size="3"            color="#000000">,t[</font><font            style="font: 11.0px Menlo; color: #272ad8"            face="Menlo"            size="3"            color="#272ad8">1</font><font            style="font: 11.0px Menlo; color: #000000"            face="Menlo"            size="3"            color="#000000">]);</font></p>        <p style="margin: 0.0px 0.0px 0.0px 0.0px; background-color: #ffffff"><font            style="font: 11.0px Menlo; color: #000000"            face="Menlo"            size="3"            color="#000000"><span              class="Apple-converted-space">&nbsp;
              &nbsp; </span>printf(</font><font style="font: 11.0px Menlo; color: #d12f1b"            face="Menlo"            size="3"            color="#d12f1b">"Adresse
            du 2eme element %d\n"</font><font style="font: 11.0px Menlo; color: #000000"            face="Menlo"            size="3"            color="#000000">,</font><font            style="font: 11.0px Menlo; color: #000000"            face="Menlo"            size="3"            color="#000000">t+</font><font            style="font: 11.0px Menlo; color: #272ad8"            face="Menlo"            size="3"            color="#272ad8">4</font><font            style="font: 11.0px Menlo; color: #000000"            face="Menlo"            size="3"            color="#000000">);</font></p>        <p style="margin: 0.0px 0.0px 0.0px 0.0px; background-color: #ffffff"><font            style="font: 11.0px Menlo; color: #000000"            face="Menlo"            size="3"            color="#000000"><span              class="Apple-converted-space">&nbsp;
              &nbsp; </span>printf(</font><font style="font: 11.0px Menlo; color: #d12f1b"            face="Menlo"            size="3"            color="#d12f1b">"2eme
            element %d\n"</font><font style="font: 11.0px Menlo; color: #000000"            face="Menlo"            size="3"            color="#000000">,*(t+</font><font            style="font: 11.0px Menlo; color: #272ad8"            face="Menlo"            size="3"            color="#272ad8">4</font><font            style="font: 11.0px Menlo; color: #000000"            face="Menlo"            size="3"            color="#000000">));</font></p>        <p style="margin: 0.0px 0.0px 0.0px 0.0px; background-color: #ffffff"><font            style="font: 11.0px Menlo; color: #000000"            face="Menlo"            size="3"            color="#000000">}</font></p>        <p style="margin: 0.0px 0.0px 0.0px 0.0px; background-color: #ffffff"><font            style="font: 11.0px Menlo; color: #000000"            face="Menlo"            size="3"            color="#000000"><br>          </font></p>        Plusieurs choses nouvelles dans ce programme:        <ul>          <li><i><b>#define</b></i> permet de définir une constante qui peuvent            être réutiliser partout dans la suite du fichier</li>          <li>Les crochets <i><b>[ ]</b></i> après le nom d'une variable            permettent de déclarer un tableau (ici d'entier).</li>          <li>La taille du tableau est donnée entre les crochets.</li>          <li>Les indices du tableau sont compris entre 0 et TAILLE-1</li>          <li><i>&amp;t[0]</i> est l'adresse du 1er élement du tableau, on peut            aussi utiliser le nom de la variable tableau (ici <i>t</i>) pour            désigner cette adresse.</li>          <li>Un tableau peut être vu en C comme un pointeur (qui contient            l'adresse du 1er élément). On peut accéder à ses éléments via ce            pointeur.</li>        </ul>        <p>Compilez ce programme par <i>make tab</i></p>        <ul>          <li><i>&nbsp;&nbsp;&nbsp; </i><span>Supprimez</span><i> </i>les<i>              warnings </i>lors de l'appel à printf sur les paramètres<i> </i><i><i>&amp;t[0]</i>              , t</i> et<i> t+4.</i></li>        </ul>        <p>Exécutez le programme.</p>        <ul>          <li>Le deuxième élément est il affiché correctement via son adresse <i>t+4
              ?</i></li>          <li>En fait le compilateur fait des calculs particuliers lors du <i>t+4</i>,            il sait que <i>t</i> est un tableau d'entier (sur 4 octets), du            coup il ajoute 4*4 et non 4 à t. </li>          <li>Modifiez le programme afin qu'il affiche bien <i>t[1]</i> la            deuxième fois.</li>          <li>Que pensez vous de *((char*)t+4) ? Essayez. </li>        </ul>        <p><span style="font-family: Arial,serif;">Somme des éléments d'un            tableau</span></p>        <ul>          <li><span style="font-family: Arial,serif;">Modifiez le fichier <i><b>sommetab.c</b></i>              afin que la fonction <i>somme</i> retourne la somme des éléments              du tableau t.</span></li>          <li><span style=" font-family: Arial,serif;">On peut remarquer que              c'est l'adresse du tableau (en fait l'adresse du 1er élément) qui              est passé en paramètre à la fonction.<br>            </span></li>          <li><span style="font-family: Arial,serif;">Compilez et essayez votre              programme.</span></li>          <li><span style=" font-family: Arial,serif;">Cette fonction ne peut              pas être utilisée pour un tableau d'une autre taille ? Si c'est le              cas, modifier là afin que cela soit possible.<br>            </span></li>        </ul>        <p><br>        </p>        <p><br>        </p>        <p><br>        </p>        <p><br>        </p>        <p><br>        </p>        <p><br>        </p>        <br>        <ul>        </ul>        <br>        <br>        <br>        <br>        <br>        <br>        <p> </p>        <div id="footer"> © IM2AG          <div id="bottom-links" style="float: right;"> <a href="../index.html">Home</a>          </div>        </div>      </div>    </div>  </body></html>